{
  "version": "1",

  "$root": {
    "version": {
      "type": ["1"],
      "doc": "Stylesheet version number. Must be 1."
    },
    "constants": {
      "type": "constants",
      "doc": "A list of constants."
    },
    "sources": {
      "type": "sources",
      "doc": "Source specifications for layers to pull data from"
    },
    "layers": {
      "required": true,
      "type": "array",
      "value": "layer",
      "doc": "A list of layers."
    },
    "buckets": {
      "required": true,
      "type": "buckets"
    },
    "styles": {
      "required": true,
      "type": "styles"
    },
    "sprite": {
      "type": "sprite"
    }
  },

  "styles": {
    "*": {
      "type": "style_class"
    }
  },

  "style_class": {
    "*": {
      "type": "style"
    }
  },

  "buckets": {
    "*": {
      "type": "bucket"
    }
  },

  "bucket_filter": {
    "feature_type": {
      "type": [
        "point",
        "line",
        "fill"
      ],
      "doc": "Geometry type that features must match"
    },
    "source": {
      "type": "string",
      "doc": "ID of the vector or raster tile source to be used"
    },
    "layer": {
      "type": "string",
      "doc": "Layer to use from a vector tile source"
    },
    "*": {
      "type": "*",
      "doc": "One or more filter expressions to apply to feature properties"
    }
  },
  "bucket": {
    "filter": {
      "type": "bucket_filter",
      "doc": "A bucket filter object defining data to be styled"
    },
    "fill": {
      "type": "boolean",
      "default-value": false,
      "doc": "Set for fill buckets"
    },
    "line": {
      "type": "boolean",
      "default-value": false,
      "doc": "Set for line buckets"
    },
    "line-cap": {
      "type": [
        "butt",
        "round",
        "square"
      ],
      "default-value": "butt",
      "doc": "The display of line endings"
    },
    "line-join": {
      "type": [
        "bevel",
        "round",
        "miter"
      ],
      "default-value": "miter",
      "doc": "The behavior of lines when joining"
    },
    "line-miter-limit": {
      "type": "number",
      "default-value": 2,
      "doc": "Used to automatically convert miter joins to bevel joins for sharp angles"
    },
    "line-round-limit": {
      "type": "number",
      "default-value": 1,
      "doc": "Used to automatically convert round joins to miter joins for shallow angles"
    },
    "text": {
      "type": "boolean",
      "default-value": false,
      "doc": "Set for text buckets"
    },
    "text-field": {
      "type": "expression",
      "default-value": "",
      "doc": "Value to use for a text label. Feature properties are specified using tokens like {{field_name}}"
    },
    "text-path": {
      "type": [
        "curve",
        "horizontal"
      ],
      "default-value": "@TODO",
      "doc": ""
    },
    "text-font": {
      "type": "string",
      "default-value": "",
      "doc": "Fontstack to use for displaying text"
    },
    "text-max-size": {
      "type": "number",
      "doc": "Largest size text will be displayed"
    },
    "text-max-width": {
      "type": "number",
      "doc": "Largest line width for text wrapping (em)"
    },
    "text-line-height": {
      "type": "number",
      "default-value": 1,
      "doc": "Text leading value for multi-line text"
    },
    "text-letter-spacing": {
      "type": "number",
      "default-value": 0,
      "doc": "Text kerning value (em)"
    },
    "text-alignment": {
      "type": [
        "left",
        "right",
        "center"
      ],
      "default-value": "center",
      "doc": "Text alignment options"
    },
    "text-max-angle": {
      "type": "number",
      "doc": "@TODO"
    },
    "text-min-distance": {
      "type": "number",
      "default-value": 250,
      "doc": "Minimum distance between two values (px)"
    },
    "text-rotate": {
      "type": "number",
      "default-value": 0
    },
    "text-slant": {
      "type": "number",
      "doc": "@TODO"
    },
    "text-padding": {
      "type": "number",
      "default-value": 2,
      "doc": "Padding value around text bounding box to avoid label collisions (px)"
    },
    "point": {
      "type": "boolean",
      "default-value": false,
      "doc": "Set for point buckets"
    },
    "point-image": {
      "type": "expression",
      "default-value": "",
      "doc": "Name of image in sprite to use for icons. Feature properties can be used as tokens like {{field_name}}"
    },
    "point-size": {
      "type": "array",
      "default-value": [12, 12],
      "doc": "Width and height of image points"
    },
    "point-radius": {
      "type": "number",
      "doc": "Radius of circle points"
    },
    "point-spacing": {
      "type": "number",
      "default-value": 0,
      "doc": ""
    },
    "point-padding": {
      "type": "number",
      "default-value": 2,
      "doc": ""
    }
  },
  "layer": [
    {
      "id": {
        "type": "string",
        "default-value": "",
        "doc": "Unique layer name. Must match the name of a single style to be applied to the layer"
      },
      "bucket": {
        "type": "string",
        "default-value": "",
        "doc": "Name of the bucket that layer styles will be applied to"
      }
    },
    {
      "id": {
        "type": "string",
        "default-value": "",
        "doc": "Composite layer name. Must match the name of a single style to be applied to the layer"
      },
      "layers": {
        "type": "array",
        "value": "layer",
        "doc": "A list of layers that should be composited together for this group"
      }
    }
  ],
  "expression": {
    "type": "string"
  },
  "constants": {
    "*": {
      "type": "*"
    }
  },
  "transition": {
    "duration": {
      "type": "number"
    },
    "delay": {
      "type": "number"
    }
  },
  "style_fn": {
    "fn": {
      "type": ["stops", "linear", "exponential"]
    },
    "stops": {
      "type": "array"
    },
    "z": {
      "type": "number"
    },
    "val": {
      "type": "number"
    },
    "slope": {
      "type": "number"
    },
    "min": {
      "type": "number"
    },
    "max": {
      "type": "number"
    }
  },
  "style": {
    "hidden": {
      "type": "boolean",
      "function": true
    },
    "opacity": {
      "type": "number",
      "function": true,
      "transition": true,
      "default-value": 1
    },
    "fill-opacity": {
      "type": "number",
      "function": true,
      "default-value": 1,
      "transition": true
    },
    "line-opacity": {
      "type": "number",
      "function": true,
      "default-value": 1,
      "transition": true
    },
    "text-opacity": {
      "type": "number",
      "function": true,
      "default-value": 1,
      "transition": true
    },
    "point-opacity": {
      "type": "number",
      "function": true,
      "default-value": 1,
      "transition": true
    },
    "fill-color": {
      "type": "color",
      "transition": true,
      "required": true,
      "default-value": [0,0,0,1]
    },
    "line-color": {
      "type": "color",
      "transition": true,
      "required": true,
      "default-value": [0,0,0,1]
    },
    "stroke-color": {
      "transition": true,
      "type": "color"
    },
    "point-color": {
      "type": "color",
      "required": true,
      "default-value": [1,1,1,1]
    },
    "text-color": {
      "type": "color",
      "transition": true,
      "required": true,
      "default-value": [0,0,0,1]
    },
    "text-halo-color": {
      "transition": true,
      "type": "color"
    },
    "fill-antialias": {
      "type": "boolean",
      "default-value": true
    },
    "point-antialias": {
      "type": "boolean"
    },
    "line-antialias": {
      "type": "boolean",
      "default-value": true
    },
    "line-width": {
      "transition": true,
      "type": "number",
      "function": true,
      "default-value": 1
    },
    "line-offset": {
      "type": "number",
      "transition": true,
      "function": true,
      "default-value": 0
    },
    "line-blur": {
      "type": "number",
      "transition": true,
      "function": true,
      "default-value": 1
    },
    "point-blur": {
      "type": "number",
      "function": true,
      "default-value": 1.5
    },
    "point-rotate": {
      "type": "number",
      "function": true
    },
    "text-size": {
      "type": "number",
      "function": true
    },
    "text-halo-width": {
      "type": "number",
      "function": true,
      "default-value": 0.25
    },
    "text-halo-blur": {
      "type": "number",
      "function": true,
      "default-value": 1
    },
    "line-dasharray": {
      "type": "array",
      "transition": true,
      "default-value": [1, -1]
    },
    "line-translate": {
      "type": "array",
      "default-value": [0, 0]
    },
    "fill-translate": {
      "type": "array",
      "default-value": [0, 0]
    },
    "text-translate": {
      "type": "array",
      "default-value": [0, 0]
    },
    "point-translate": {
      "type": "array",
      "default-value": [0, 0]
    },
    "point-image": {
      "type": "image"
    },
    "fill-image": {
      "type": "image"
    },
    "line-image": {
      "type": "image",
      "default-value": "",
      "doc": "Name of image in sprite to use for drawing image lines"
    },
    "point-invert": {
      "type": "boolean"
    },
    "point-radius": {
      "type": "number",
      "default-value": 4
    },
    "point-alignment": {
      "type": [
        "screen",
        "line"
      ]
    },
    "raster-spin": {
      "type": "number",
      "default-value": 0
    },
    "raster-brightness-low": {
      "type": "number",
      "transition": true,
      "default-value": 0
    },
    "raster-brightness-high": {
      "type": "number",
      "transition": true,
      "default-value": 1
    },
    "raster-saturation": {
      "type": "number",
      "transition": true,
      "default-value": 0
    },
    "raster-contrast": {
      "type": "number",
      "default-value": 0
    },
    "raster-fade": {
      "type": "number"
    }
  },
  "sprite": {
    "type": "string"
  },
  "image": {
    "type": "string"
  }
}
